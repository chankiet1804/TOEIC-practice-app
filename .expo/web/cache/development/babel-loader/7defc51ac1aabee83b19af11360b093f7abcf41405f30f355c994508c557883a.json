{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport * as SQLite from 'expo-sqlite';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nexport var getDBConnection = function () {\n  var _ref = _asyncToGenerator(function* () {\n    try {\n      if (Platform.OS === 'web') {\n        throw new Error('SQLite is not supported on web platform');\n      }\n      var db = SQLite.openDatabase('Toeic-data.db');\n      if (!db) {\n        throw new Error('Could not open database');\n      }\n      return db;\n    } catch (error) {\n      console.error('Error opening database:', error);\n      throw error;\n    }\n  });\n  return function getDBConnection() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var createTables = function () {\n  var _ref2 = _asyncToGenerator(function* (db) {\n    return new Promise(function (resolve, reject) {\n      db.transaction(function (tx) {\n        tx.executeSql(`CREATE TABLE IF NOT EXISTS Tests (\n                        TestID TEXT PRIMARY KEY,\n                        Title TEXT NOT NULL\n                    );`, []);\n        tx.executeSql(`CREATE TABLE IF NOT EXISTS Parts (\n                        PartID TEXT PRIMARY KEY,\n                        TestID TEXT,\n                        PartNumber INTEGER NOT NULL,\n                        FOREIGN KEY (TestID) REFERENCES Tests(TestID)\n                    );`, []);\n        tx.executeSql(`CREATE TABLE IF NOT EXISTS Questions (\n                        QuestionID TEXT PRIMARY KEY,\n                        PartID TEXT,\n                        QuestionNumber INTEGER NOT NULL,\n                        QuestionText TEXT,\n                        ImagePath TEXT,\n                        AudioPath TEXT,\n                        CorrectAnswer TEXT,\n                        FOREIGN KEY (PartID) REFERENCES Parts(PartID)\n                    );`, []);\n        tx.executeSql(`CREATE TABLE IF NOT EXISTS Topics (\n                        TopicID TEXT PRIMARY KEY,\n                        TopicName TEXT NOT NULL,\n                        Description TEXT,\n                        ImagePath TEXT\n                    );`, []);\n        tx.executeSql(`CREATE TABLE IF NOT EXISTS Vocabulary (\n                        VocabID TEXT PRIMARY KEY,\n                        TopicID TEXT,\n                        Word TEXT NOT NULL,\n                        Meaning TEXT NOT NULL,\n                        Example TEXT,\n                        Pronunciation TEXT,\n                        WordType TEXT,\n                        ImagePath TEXT,\n                        FOREIGN KEY (TopicID) REFERENCES Topics(TopicID)\n                    );`, []);\n      }, function (error) {\n        console.error('Error creating tables:', error);\n        reject(error);\n      }, function () {\n        console.log('All tables created successfully');\n        resolve(true);\n      });\n    });\n  });\n  return function createTables(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var insertTests = function () {\n  var _ref3 = _asyncToGenerator(function* (db) {\n    return new Promise(function (resolve, reject) {\n      db.transaction(function (tx) {\n        var _loop = function _loop(i) {\n          tx.executeSql('INSERT OR IGNORE INTO Tests (TestID, Title) VALUES (?, ?)', [i.toString(), `SpeakingTest${i}`], function (_, result) {\n            if (i === 10) {\n              console.log('All tests inserted successfully');\n            }\n          });\n        };\n        for (var i = 1; i <= 10; i++) {\n          _loop(i);\n        }\n      }, function (error) {\n        console.error('Error inserting tests:', error);\n        reject(error);\n      }, function () {\n        console.log('Tests transaction completed');\n        resolve(true);\n      });\n    });\n  });\n  return function insertTests(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var insertParts = function () {\n  var _ref4 = _asyncToGenerator(function* (db) {\n    return new Promise(function (resolve, reject) {\n      db.transaction(function (tx) {\n        var _loop2 = function _loop2(testId) {\n          var _loop3 = function _loop3(partNumber) {\n            var partId = `${testId}_${partNumber}`;\n            tx.executeSql('INSERT OR IGNORE INTO Parts (PartID, TestID, PartNumber) VALUES (?, ?, ?)', [partId, testId.toString(), partNumber], function (_, result) {\n              if (testId === 10 && partNumber === 5) {\n                console.log('All parts inserted successfully');\n              }\n            });\n          };\n          for (var partNumber = 1; partNumber <= 5; partNumber++) {\n            _loop3(partNumber);\n          }\n        };\n        for (var testId = 1; testId <= 10; testId++) {\n          _loop2(testId);\n        }\n      }, function (error) {\n        console.error('Error inserting parts:', error);\n        reject(error);\n      }, function () {\n        console.log('Parts transaction completed');\n        resolve(true);\n      });\n    });\n  });\n  return function insertParts(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var getAllTests = function () {\n  var _ref5 = _asyncToGenerator(function* (db) {\n    return new Promise(function (resolve, reject) {\n      db.transaction(function (tx) {\n        tx.executeSql('SELECT * FROM Tests ORDER BY TestID', [], function (_, _ref6) {\n          var _array = _ref6.rows._array;\n          resolve(_array);\n        }, function (_, error) {\n          reject(error);\n          return false;\n        });\n      });\n    });\n  });\n  return function getAllTests(_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var getPartsForTest = function () {\n  var _ref7 = _asyncToGenerator(function* (db, testId) {\n    return new Promise(function (resolve, reject) {\n      db.transaction(function (tx) {\n        tx.executeSql('SELECT * FROM Parts WHERE TestID = ? ORDER BY PartNumber', [testId], function (_, _ref8) {\n          var _array = _ref8.rows._array;\n          resolve(_array);\n        }, function (_, error) {\n          reject(error);\n          return false;\n        });\n      });\n    });\n  });\n  return function getPartsForTest(_x5, _x6) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var insertTopics = function () {\n  var _ref9 = _asyncToGenerator(function* (db, vocabData) {\n    return new Promise(function (resolve, reject) {\n      db.transaction(function (tx) {\n        tx.executeSql('INSERT INTO Topics (TopicID, TopicName, Description) VALUES (?, ?, ?)', [vocabData.topic.toLowerCase().replace(/\\s+/g, '-'), vocabData.topic, vocabData.description], function (_, result) {\n          vocabData.vocabulary.forEach(function (item) {\n            tx.executeSql('INSERT INTO Vocabulary (Term, Definition, TopicID) VALUES (?, ?, ?)', [item.term, item.definition, vocabData.topic.toLowerCase().replace(/\\s+/g, '-')], function (_, result) {\n              console.log('Inserted vocabulary item:', item.term);\n            });\n          });\n        });\n      }, function (error) {\n        console.error('Error inserting topics:', error);\n        reject(error);\n      }, function () {\n        console.log('Topics transaction completed');\n        resolve(true);\n      });\n    });\n  });\n  return function insertTopics(_x7, _x8) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nexport var getAllTopics = function () {\n  var _ref10 = _asyncToGenerator(function* (db) {\n    return new Promise(function (resolve, reject) {\n      db.transaction(function (tx) {\n        tx.executeSql('SELECT * FROM Topics ORDER BY TopicID', [], function (_, _ref11) {\n          var _array = _ref11.rows._array;\n          resolve(_array);\n        }, function (_, error) {\n          reject(error);\n          return false;\n        });\n      });\n    });\n  });\n  return function getAllTopics(_x9) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nexport var getVocabByTopic = function () {\n  var _ref12 = _asyncToGenerator(function* (db, topicId) {\n    return new Promise(function (resolve, reject) {\n      db.transaction(function (tx) {\n        tx.executeSql('SELECT v.*, t.TopicName FROM Vocabulary v JOIN Topics t ON v.TopicID = t.TopicID WHERE v.TopicID = ?', [topicId], function (_, _ref13) {\n          var _array = _ref13.rows._array;\n          if (_array.length > 0) {\n            var topic = {\n              id: topicId,\n              name: _array[0].TopicName,\n              words: _array.map(function (row) {\n                return {\n                  id: row.VocabID,\n                  word: row.Word,\n                  partOfSpeech: 'noun',\n                  vietnamese: row.Meaning\n                };\n              })\n            };\n            resolve(topic);\n          } else {\n            resolve({\n              id: topicId,\n              name: '',\n              words: []\n            });\n          }\n        }, function (_, error) {\n          reject(error);\n          return false;\n        });\n      });\n    });\n  });\n  return function getVocabByTopic(_x10, _x11) {\n    return _ref12.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["SQLite","Platform","getDBConnection","_ref","_asyncToGenerator","OS","Error","db","openDatabase","error","console","apply","arguments","createTables","_ref2","Promise","resolve","reject","transaction","tx","executeSql","log","_x","insertTests","_ref3","_loop","i","toString","_","result","_x2","insertParts","_ref4","_loop2","testId","_loop3","partNumber","partId","_x3","getAllTests","_ref5","_ref6","_array","rows","_x4","getPartsForTest","_ref7","_ref8","_x5","_x6","insertTopics","_ref9","vocabData","topic","toLowerCase","replace","description","vocabulary","forEach","item","term","definition","_x7","_x8","getAllTopics","_ref10","_ref11","_x9","getVocabByTopic","_ref12","topicId","_ref13","length","id","name","TopicName","words","map","row","VocabID","word","Word","partOfSpeech","vietnamese","Meaning","_x10","_x11"],"sources":["D:/Loc2023-2024/Mobile App/TOEIC-practice-app/src/database/db-service.ts"],"sourcesContent":["import * as SQLite from 'expo-sqlite';\r\nimport { Platform } from 'react-native';\r\nimport { VocabTopic, VocabWord } from '../data/Vocab';\r\n\r\nexport const getDBConnection = async () => {\r\n    try {\r\n      // Kiểm tra nếu đang chạy trên web\r\n      if (Platform.OS === 'web') {\r\n        throw new Error('SQLite is not supported on web platform');\r\n      }\r\n      \r\n      const db = SQLite.openDatabase('Toeic-data.db');\r\n      if (!db) {\r\n        throw new Error('Could not open database');\r\n      }\r\n      return db;\r\n    } catch (error) {\r\n      console.error('Error opening database:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\nexport const createTables = async (db: SQLite.SQLiteDatabase) => {\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(\r\n            tx => {\r\n                // Tạo bảng Tests\r\n                tx.executeSql(\r\n                    `CREATE TABLE IF NOT EXISTS Tests (\r\n                        TestID TEXT PRIMARY KEY,\r\n                        Title TEXT NOT NULL\r\n                    );`,\r\n                    []\r\n                );\r\n\r\n                // Tạo bảng Parts\r\n                tx.executeSql(\r\n                    `CREATE TABLE IF NOT EXISTS Parts (\r\n                        PartID TEXT PRIMARY KEY,\r\n                        TestID TEXT,\r\n                        PartNumber INTEGER NOT NULL,\r\n                        FOREIGN KEY (TestID) REFERENCES Tests(TestID)\r\n                    );`,\r\n                    []\r\n                );\r\n\r\n                // Tạo bảng Questions\r\n                tx.executeSql(\r\n                    `CREATE TABLE IF NOT EXISTS Questions (\r\n                        QuestionID TEXT PRIMARY KEY,\r\n                        PartID TEXT,\r\n                        QuestionNumber INTEGER NOT NULL,\r\n                        QuestionText TEXT,\r\n                        ImagePath TEXT,\r\n                        AudioPath TEXT,\r\n                        CorrectAnswer TEXT,\r\n                        FOREIGN KEY (PartID) REFERENCES Parts(PartID)\r\n                    );`,\r\n                    []\r\n                );\r\n\r\n                // Tạo bảng Topics (Chủ đề)\r\n                tx.executeSql(\r\n                    `CREATE TABLE IF NOT EXISTS Topics (\r\n                        TopicID TEXT PRIMARY KEY,\r\n                        TopicName TEXT NOT NULL,\r\n                        Description TEXT,\r\n                        ImagePath TEXT\r\n                    );`,\r\n                    []\r\n                );\r\n\r\n                // Tạo bảng Vocabulary (Từ vựng)\r\n                tx.executeSql(\r\n                    `CREATE TABLE IF NOT EXISTS Vocabulary (\r\n                        VocabID TEXT PRIMARY KEY,\r\n                        TopicID TEXT,\r\n                        Word TEXT NOT NULL,\r\n                        Meaning TEXT NOT NULL,\r\n                        Example TEXT,\r\n                        Pronunciation TEXT,\r\n                        WordType TEXT,\r\n                        ImagePath TEXT,\r\n                        FOREIGN KEY (TopicID) REFERENCES Topics(TopicID)\r\n                    );`,\r\n                    []\r\n                );\r\n            },\r\n            (error) => {\r\n                console.error('Error creating tables:', error);\r\n                reject(error);\r\n            },\r\n            () => {\r\n                console.log('All tables created successfully');\r\n                resolve(true);\r\n            }\r\n        );\r\n    });\r\n};\r\n\r\n// tao danh sach cac bai test\r\nexport const insertTests = async (db: SQLite.SQLiteDatabase) => {\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(tx => {\r\n            // Insert 10 bài test\r\n            for (let i = 1; i <= 10; i++) {\r\n                tx.executeSql(\r\n                    'INSERT OR IGNORE INTO Tests (TestID, Title) VALUES (?, ?)',\r\n                    [i.toString(), `SpeakingTest${i}`],\r\n                    (_, result) => {\r\n                        if (i === 10) {\r\n                            console.log('All tests inserted successfully');\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        },\r\n        (error) => {\r\n            console.error('Error inserting tests:', error);\r\n            reject(error);\r\n        },\r\n        () => {\r\n            console.log('Tests transaction completed');\r\n            resolve(true);\r\n        });\r\n    });\r\n};\r\n\r\n// tao danh sach cac phan trong bai test\r\nexport const insertParts = async (db: SQLite.SQLiteDatabase) => {\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(tx => {\r\n            // Lặp qua 10 bài test\r\n            for (let testId = 1; testId <= 10; testId++) {\r\n                // Lặp qua 5 phần cho mỗi bài test\r\n                for (let partNumber = 1; partNumber <= 5; partNumber++) {\r\n                    const partId = `${testId}_${partNumber}`; // Tạo PartID duy nhất\r\n                    tx.executeSql(\r\n                        'INSERT OR IGNORE INTO Parts (PartID, TestID, PartNumber) VALUES (?, ?, ?)',\r\n                        [partId, testId.toString(), partNumber],\r\n                        (_, result) => {\r\n                            if (testId === 10 && partNumber === 5) {\r\n                                console.log('All parts inserted successfully');\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n        },\r\n        (error) => {\r\n            console.error('Error inserting parts:', error);\r\n            reject(error);\r\n        },\r\n        () => {\r\n            console.log('Parts transaction completed');\r\n            resolve(true);\r\n        });\r\n    });\r\n};\r\n\r\n// Hàm để lấy tất cả tests\r\nexport const getAllTests = async (db: SQLite.SQLiteDatabase) => {\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(tx => {\r\n            tx.executeSql(\r\n                'SELECT * FROM Tests ORDER BY TestID',\r\n                [],\r\n                (_, { rows: { _array } }) => {\r\n                    resolve(_array);\r\n                },\r\n                (_, error) => {\r\n                    reject(error);\r\n                    return false;\r\n                }\r\n            );\r\n        });\r\n    });\r\n};\r\n\r\n// Hàm để lấy tất cả parts của một test\r\nexport const getPartsForTest = async (db: SQLite.SQLiteDatabase, testId: string) => {\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(tx => {\r\n            tx.executeSql(\r\n                'SELECT * FROM Parts WHERE TestID = ? ORDER BY PartNumber',\r\n                [testId],\r\n                (_, { rows: { _array } }) => {\r\n                    resolve(_array);\r\n                },\r\n                (_, error) => {\r\n                    reject(error);\r\n                    return false;\r\n                }\r\n            );\r\n        });\r\n    });\r\n};\r\n\r\n// Hàm thêm chủ đề mới\r\nexport const insertTopics = async (db: SQLite.SQLiteDatabase, vocabData: any) => {\r\n  return new Promise((resolve, reject) => {\r\n    db.transaction(tx => {\r\n      // Lưu chủ đề vào bảng Topics\r\n      tx.executeSql(\r\n        'INSERT INTO Topics (TopicID, TopicName, Description) VALUES (?, ?, ?)',\r\n        [vocabData.topic.toLowerCase().replace(/\\s+/g, '-'), vocabData.topic, vocabData.description],\r\n        (_, result) => {\r\n          // Lưu từ vựng vào bảng Vocabulary\r\n          vocabData.vocabulary.forEach((item: VocabWord) => {\r\n            tx.executeSql(\r\n              'INSERT INTO Vocabulary (Term, Definition, TopicID) VALUES (?, ?, ?)',\r\n              [item.term, item.definition, vocabData.topic.toLowerCase().replace(/\\s+/g, '-')],\r\n              (_, result) => {\r\n                console.log('Inserted vocabulary item:', item.term);\r\n              }\r\n            );\r\n          });\r\n        }\r\n      );\r\n    },\r\n    (error) => {\r\n      console.error('Error inserting topics:', error);\r\n      reject(error);\r\n    },\r\n    () => {\r\n      console.log('Topics transaction completed');\r\n      resolve(true);\r\n    });\r\n  });\r\n};\r\n\r\n// Hàm lấy tất cả chủ đề\r\nexport const getAllTopics = async (db: SQLite.SQLiteDatabase) => {\r\n    return new Promise((resolve, reject) => {\r\n        db.transaction(tx => {\r\n            tx.executeSql(\r\n                'SELECT * FROM Topics ORDER BY TopicID',\r\n                [],\r\n                (_, { rows: { _array } }) => {\r\n                    resolve(_array);\r\n                },\r\n                (_, error) => {\r\n                    reject(error);\r\n                    return false;\r\n                }\r\n            );\r\n        });\r\n    });\r\n};\r\n\r\nexport const getVocabByTopic = async (db: SQLite.WebSQLDatabase, topicId: string) => {\r\n  return new Promise<VocabTopic>((resolve, reject) => {\r\n    db.transaction(tx => {\r\n      tx.executeSql(\r\n        'SELECT v.*, t.TopicName FROM Vocabulary v JOIN Topics t ON v.TopicID = t.TopicID WHERE v.TopicID = ?',\r\n        [topicId],\r\n        (_, { rows: { _array } }) => {\r\n          if (_array.length > 0) {\r\n            const topic: VocabTopic = {\r\n              id: topicId,\r\n              name: _array[0].TopicName,\r\n              words: _array.map(row => ({\r\n                id: row.VocabID,\r\n                word: row.Word,\r\n                partOfSpeech: 'noun',\r\n                vietnamese: row.Meaning\r\n              }))\r\n            };\r\n            resolve(topic);\r\n          } else {\r\n            resolve({ id: topicId, name: '', words: [] });\r\n          }\r\n        },\r\n        (_, error) => {\r\n          reject(error);\r\n          return false;\r\n        }\r\n      );\r\n    });\r\n  });\r\n};\r\n\r\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}